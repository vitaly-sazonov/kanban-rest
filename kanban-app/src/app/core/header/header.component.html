<header class="header-wrapper" #headerElement>
  <section class="header-container">
    <section class="logo-wrapper">
      <div class="logo" (click)="navigate(mainRoute)"></div>
    </section>
    <section class="create-board-container">
      <button
        mat-raised-button
        (click)="callFormModal()"
        mat-raised-button
        *ngIf="loginStatus$ | async">
        <mat-icon>add</mat-icon>
        <span class="board-create-text">{{ createBoard | translate }}</span>
      </button>
    </section>
    <section class="header-top-right">
      <section class="lang-container">
        <button mat-button [matMenuTriggerFor]="menu" class="lang-button">
          <div class="lang-icon lang-menu-icon {{ currentLanguage }}"></div>
        </button>
        <mat-menu class="lang-menu" #menu="matMenu">
          <mat-button-toggle-group
            class="lang-group"
            vertical="true"
            [formControl]="language">
            <mat-button-toggle
              *ngFor="let lang of languages"
              mat-mini-fab
              value="{{ lang }}"
              class="lang-item"
              [class.hidden]="lang === currentLanguage">
              <div class="lang-icon {{ lang }}"></div>
            </mat-button-toggle>
          </mat-button-toggle-group>
        </mat-menu>
      </section>
      <section class="user-container">
        <button
          mat-button
          [matMenuTriggerFor]="userMenu"
          yPosition="below"
          class="user-button">
          <mat-icon class="user-icon">account_circle</mat-icon>
        </button>
        <mat-menu class="user-menu" #userMenu="matMenu">
          <ng-container *ngIf="loginStatus$ | async; else notLogged">
            <button mat-menu-item (click)="openDialog()">
              <mat-icon>person_remove</mat-icon>
              <span>{{ 'auth.Delete' | translate }}</span>
            </button>
            <button mat-menu-item (click)="editUser()">
              <mat-icon>edit</mat-icon>
              <span>{{ 'auth.Edit' | translate }}</span>
            </button>
            <button
              mat-menu-item
              (click)="logOut()"
              [disabled]="(loginStatus$ | async) === false">
              <mat-icon>logout</mat-icon>
              <span>Logout</span>
            </button>
          </ng-container>
          <ng-template #notLogged>
            <button mat-menu-item (click)="navigate('welcome/login')">
              <mat-icon>login</mat-icon>
              <span>{{ 'auth.Login' | translate }}</span>
            </button>
            <button mat-menu-item (click)="navigate('welcome/registration')">
              <mat-icon>person_add</mat-icon>
              <span>{{ 'auth.Registration' | translate }}</span>
            </button>
          </ng-template>
        </mat-menu>
      </section>
    </section>
  </section>
</header>
